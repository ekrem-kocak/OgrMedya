<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>

<div class="container">
  <div class="user-list" *ngIf="viewedUsers.length > 0 else followedAllUsers">
    <div class="row">
      <div class="mb-4">
        <input type="text" id="" class="form-control p-2"
          placeholder="İsim, Soyisim, Okul veya Bölüm bilgileri girmeyi deneyin..." (keyup)="search($event)">
      </div>
      <div *ngFor="let user of viewedUsers" class="col-lg-3 col-md-4 col-sm-6">
        <div class="user-profile-info">
          <div class="user-up-info">
            <img src="{{user.profileImageUrl}}" alt=""
              style="border-radius: 50%; height: 150px; width: 150px; object-fit: cover;">
            <h3 class="text-capitalize">{{ user.name }}</h3>
            <h4 class="mb-1 text-capitalize">{{ user.universityName.toLowerCase() }}</h4>
            <h5 class="mb-0">{{ user.department }}</h5>
            <h5>{{user.class}}.sınıf</h5>
            <button class="btn btn-outline-primary btn-sm" (click)="followUser(user.id)">
              <i class="fa-solid fa-user-plus me-1"></i>
              Takip Et
            </button>
          </div>
          <a routerLink="/members/{{user.id}}" class="view-more">Profile Git</a>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #followedAllUsers>
  <div class="alert alert-warning">
    Tüm üyeleri takip ediyorsunuz..
  </div>
</ng-template>
