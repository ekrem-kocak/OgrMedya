<div id="registerFormContainer" class="container">
  <div class="row mx-0">
    <div class="col-md-4 py-5">
      <h2 class="text-secondary">Kayıt Ol</h2>
      <hr>
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        <div class="mb-3">
          <label class="form-label">İsim Soyisim</label>
          <input type="text" class="form-control" formControlName="name">
          <div class="alert alert-danger" *ngIf="name!.invalid && (name!.dirty) && name.value.length > 0">
            <p *ngIf="name!.errors?.['minlength']">İsim en az 3 karakter içermelidir</p>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Kullanıcı Adı</label>
          <input type="text" class="form-control" formControlName="username">
          <div class="alert alert-danger" *ngIf="username!.invalid && (username!.dirty ) && username.value.length">
            <p *ngIf="username!.errors?.['pattern']">Geçersiz kullanıcı adı</p>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Öğrenci E-postası</label>
          <input type="email" class="form-control" formControlName="email">
          <div class="alert alert-danger" *ngIf="email!.invalid && (email!.dirty ) && email.value.length">
            <p>Geçersiz E-posta</p>
            <p>Örnek: 123456789@ogr.alanya.edu.tr</p>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Şifre</label>
          <input type="password" class="form-control" formControlName="password">
          <div class="alert alert-danger" *ngIf="password!.invalid && (password!.dirty ) && password.value.length">
            <p *ngIf="password!.errors?.['required']">Required</p>
            <div *ngIf="password!.errors?.['pattern']">
              <ul class="m-0">
                <li>5 Karakter</li>
                <li>Bir küçük harf</li>
                <li>Bir büyük harf</li>
                <li>Rakam</li>
                <li>Özel karakter</li>
              </ul>
              İçermelidir
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Şifre Tekrar</label>
          <input type="password" class="form-control" formControlName="rePassword">
          <div class="alert alert-danger" *ngIf="!isRePasswordTrue()">
            Girilen şifreler aynı olmalıdır.
          </div>
        </div>

        <div class="mb-3">
          <div class="form-check">
            <input class="form-check-input" type="radio" formControlName="gender" value="male">
            <label class="form-check-label">
              Erkek
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" formControlName="gender" value="female">
            <label class="form-check-label">
              Kadın
            </label>
          </div>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid || !isRePasswordTrue()">Kayıt
          Ol</button>
        <a routerLink="/forgot-password" class="btn btn-secondary ms-3">Şifremi Unuttum</a>
      </form>
    </div>
  </div>

</div>

<ng-template #waiting>
  <div class="text-center">
    <div class="spinner-border text-primary mx-auto" role="status">
      <span class="visually-hidden"></span>
    </div>
  </div>
</ng-template>

<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
